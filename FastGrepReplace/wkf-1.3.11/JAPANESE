
『日本語情報処理に関するメモ』

1. 日本語の符号化方式

1.1 ASCII/JIS ローマ字の仕様

+----------+------------+---------------+---------------+
|	   |   １０進	|    １６進	|     ８進	|
+----------+------------+---------------+---------------+
| 制御文字 | 0-31	| 00-1F		| 000-037	|
| 空白文字 | 32		| 20		| 040		|
| 図形文字 | 33-126	| 21-7E		| 041-176	|
| 削除文字 | 127	| 7F		| 177		|
+----------+------------+---------------+---------------+

1.2 JIS X 0201-1976 (俗称半角片仮名)のコード仕様

1.2.1 半角片仮名のコード仕様

+-----------------+-------------+---------------+---------------+
|		  |  １０進	|    １６進	|     ８進	|
+-----------------+-------------+---------------+---------------+
| 7bit 半角片仮名 |		|		|		| 
|  バイト範囲	  | 33-95	| 21-5F		| 041-137	|
+-----------------+-------------+---------------+---------------+
| 8bit 半角片仮名 | 		|		|		|
|  バイト範囲	  | 161-223	| A1-DF		| 241-337	|
+-----------------+-------------+---------------+---------------+

1.2.2 EUC の半角片仮名のコード仕様

+-----------------------------+---------+-------+---------+
|			      |  １０進	| １６進|  ８進	  |
+-----------------------------+---------+-------+---------+
| EUC 半角片仮名	      |		|	|	  |
|  (圧縮フォーマット)	      |		|	|	  |
|  第１バイト		      | 142	| 8E	| 216	  |
|  第２バイト		      | 161-223	| A1-DF	| 241-337 |
+-----------------------------+---------+-------+---------+
| EUC 半角片仮名	      |		|	|	  |
|  (２バイト固定フォーマット) |		|	|	  |
|  第１バイト		      | 0	| 00	| 000	  |
|  第２バイト		      | 161-223	| A1-DF	| 241-337 |
+-----------------------------+---------+-------+---------+

1.3 JIS コードの仕様

+-----------------+-----------------+-----------------+-----------------------+
|		  |	１０進	    |	   １６進     |		８進	      |
+-----------------+-----------------+-----------------+-----------------------+
|２バイト文字     |		    |		      |			      |
|Escape Sequence  |		    |		      |			      |
| JIS C 6226-1978 |27 36 64	    |1B 24 40	      |033 044 100	      |
| JIS X 0208-1983 |27 36 66	    |1B 24 42	      |033 044 102	      |
| JIS X 0208-1990 |27 38 64 27 36 66|1B 26 40 1B 24 42|033 046 100 033 044 102|
| JIS X 0212-1990 |27 36 40 68	    |1B 24 28 44      |033 044 050 104	      |
+-----------------+-----------------+-----------------+-----------------------+
|２バイト文字	  |		    |		      |			      |
|  第１バイト範囲 |33-126	    |21-7E	      |041-176		      |
|  第２バイト範囲 |33-126	    |21-7E	      |041-176		      |
+-----------------+-----------------+-----------------+-----------------------+
|１バイト文字     |		    |		      |			      |
|Escape Sequence  |		    |		      |			      |
|  JIS ローマ字   |27 40 74	    |1B 28 4A	      |033 050 112	      |
|  ASCII	  |27 40 66	    |1B 28 42	      |033 050 102	      |
|  半角片仮名	  |27 40 73	    |1B 28 49	      |033 050 111	      |
+-----------------+-----------------+-----------------+-----------------------+
|JIS7 半角片仮名  |		    |		      |			      |
|  シフト・アウト |14		    |0E		      |016		      |
|  バイト範囲	  |33-95	    |21-5F	      |041-137		      |
|  シフト・イン	  |15		    |0F		      |017		      |
+-----------------+-----------------+-----------------+-----------------------+
|JIS8 半角片仮名  |		    |		      |			      |
|  バイト範囲	  |161-223	    |A1-DF	      |241-337		      |
+-----------------+-----------------+-----------------+-----------------------+
|ASCII/JISローマ字|		    |		      |			      |
|  バイト範囲	  |33-126	    |21-7E	      |041-176		      |
+-----------------+-----------------+-----------------+-----------------------+

[２バイト文字エスケープ・シーケンス文字表現]

  ESC $ @		JIS C 6226-1978 (JIS 漢字旧版)
  ESC $ B		JIS X 0208-1983 (JIS 漢字新版)
  ESC & @ ESC $ B	JIS X 0208-1990
  ESC $ ( D		JIS X 0212-1990

[１バイト文字エスケープ・シーケンス文字表現]

  ESC ( J	JIS X 0201-1976 roma	 (JIS ローマ字)
  ESC ( B	ISO 646-1991	         (ASCII)
  ESC ( I	JIS X 0201-1976 katakana (半角片仮名)

1.4 シフト JIS のコード仕様

+-------------------+------------------+--------------+------------------+
|		    |	１０進	       |    １６進    |	      ８進	 |
+-------------------+------------------+--------------+------------------+
| ２バイト文字	    |		       |	      |			 |
|   第１バイト範囲  | 129-159, 224-239 | 81-9F, E0-EF | 201-237, 340-357 |
|   第２バイト範囲  |  64-126, 128-252 | 40-7E, 80-FC | 100-176, 200-374 |
+-------------------+------------------+--------------+------------------+
| 半角片仮名	    |		       |	      |			 |
|   バイト範囲	    | 161-223	       | A1-DF	      |	241-337		 |
+-------------------+------------------+--------------+------------------+
| ASCII/JISローマ字 |		       |	      |			 |
|   バイト範囲	    | 33-126	       | 21-7E	      | 041-176		 |
+-------------------+------------------+--------------+------------------+

1.5 EUC のコード仕様

1.5.1 EUC の保留コード範囲と位置

+---------------+---------------+---------------+---------------+
|		|    １０進	|    １６進	|     ８進	|
+---------------+---------------+---------------+---------------+
| 制御セット０	| 0-31		| 00-1F		| 000-037	|
| 空白文字	| 32		| 20		| 040		|
| 削除文字	| 127		| 7F		| 177		|
| 制御セット１	| 128-159	| 80-9F		| 200-237	|
+---------------+---------------+---------------+---------------+

1.5.2 EUC 図形文字コード範囲

+----------------+--------------+---------------+---------------+
|		 |    １０進	|    １６進	|     ８進	|
+----------------+--------------+---------------+---------------+
| 第１コード範囲 | 33-126	| 21-7E		| 041-176	|
| 第２コード範囲 | 160-255	| A0-FF		| 240-377	|
+----------------+--------------+---------------+---------------+

1.5.3 EUC SS2 と SS3 の文字

+---------------------+---------+-------+-------+
|		      |  １０進	| １６進|  ８進	|
+---------------------+---------+-------+-------+
| SS2(Single Shift 2) | 142	| 8E	| 216	|
| SS3(Single Shift 3) | 143	| 8F	| 217	|
+---------------------+---------+-------+-------+

1.5.4 EUC 圧縮フォーマットのコード仕様

+-----------------------+---------------+---------------+---------------+
|			|    １０進	|     １６進	|     ８進	|
+-----------------------+---------------+---------------+---------------+
| コードセット０	|		|		|		|
|   (ASCII/JISローマ字)	|		|		|		|
|   バイト範囲		| 33-126	| 21-7E		| 041-176	|
+-----------------------+---------------+---------------+---------------+
| コードセット１	|		|		|		|
|   (JIS X 0208-1990)	|		|		|		|
|   第１バイト範囲	| 161-254	| A1-FE		| 241-376	|
|   第２バイト範囲	| 161-254	| A1-FE		| 241-376	|
+-----------------------+---------------+---------------+---------------+
| コードセット２	|		|		|		|
|   (半角片仮名)	|		|		|		|
|   第１バイト範囲(SS2)	| 142		| 8E		| 216		|
|   第２バイト範囲	| 161-223	| A1-DF		| 241-337	|
+-----------------------+---------------+---------------+---------------+
| コードセット３	|		|		|		|
|   (JIS X 0212-1990)	|		|		|		|
|   第１バイト範囲(SS3)	| 143		| 8F		| 217		|
|   第２バイト範囲	| 161-254	| A1-FE		| 241-376	|
|   第３バイト範囲	| 161-254	| A1-FE		| 241-376	|
+-----------------------+---------------+---------------+---------------+

1.5.5 EUC ２バイト固定フォーマットのコード仕様

+-----------------------+---------------+---------------+---------------+
|			|    １０進	|     １６進	|     ８進	|
+-----------------------+---------------+---------------+---------------+
| コードセット０	|		|		|		|
|   (ASCII/JISローマ字)	|		|		|		|
|   第１バイト範囲	| 0		| 00		| 000		|
|   第２バイト範囲	| 33-126	| 21-7E		| 041-176	|
+-----------------------+---------------+---------------+---------------+
| コードセット１	|		|		|		|
|   (JIS X 0208-1990)	|		|		|		|
|   第１バイト範囲	| 161-254	| A1-FE		| 241-376	|
|   第２バイト範囲	| 161-254	| A1-FE		| 241-376	|
+-----------------------+---------------+---------------+---------------+
| コードセット２	|		|		|		|
|   (半角片仮名)	|		|		|		|
|   第１バイト範囲	| 0		| 00		| 000		|
|   第２バイト範囲	| 161-223	| A1-DF		| 241-337	|
+-----------------------+---------------+---------------+---------------+
| コードセット３	|		|		|		|
|   (JIS X 0212-1990)	|		|		|		|
|   第１バイト範囲	| 161-254	| A1-FE		| 241-376	|
|   第２バイト範囲	|  33-126	| 21-7E		| 041-176	|
+-----------------------+---------------+---------------+---------------+

2. 各漢字コードの簡単な概要

2.1 JIS コード

    JIS コードは、第１バイトも第２バイトも 0x21-0x7E。
    	ESC $ @ \041-\176\041-\176 ESC ( J
    	ESC $ B \041-\176\041-\176 ESC ( B

2.2 SJIS コード

    SJIS コードの第１バイトは、0x81-0x9F, 0xE0-0xEF。
    SJIS コードの第２バイトは、0x40-0x7E, 0x80-0xFC。
    	\201-\237\340-\357,\100-\176\200-\374

2.3 日本語 EUC コード

    日本語 EUC コードは、第１バイトも第２バイトも 0xA1-0xFE。
	\241-\376\241-\376

    平仮名:	0xA4A0-0xA4FF
    片仮名:	0xA5A0-0xA5FF

3. 捕捉

3.1 コード範囲

    7bit ascii		0x00-0x7F
	制御文字	0x00-0x1F
	空白文字	0x20
	図形文字	0x21-0x7E
	削除文字	0x7F
    2byte code		0x21-0x7E (JIS)
    			0x81-0x9F, 0xE0-0xEF (SJIS 1byte)
			0x40-0x7E, 0x80-0xFC (SJIS 2byte)
			0xA1-0xFE (EUC)
    7bit kana (JIS7)	0x21-0x5F (JIS: ESC ( I)
    8bit kana (JIS8)	0xA1-0xDF (SJIS 1byte で表現)
    8bit kana		0xA1-0xDF (EUC:	SS2(0x8E))

3.2 半角片仮名の処理

3.2.1 日本語 EUC コード

      SS2 + [0xA1-0xDF] で一文字

      [PROGRAM]
	int	c;
	for (c = 0xa1; c <= 0xdf; c++) {
	  (void)fprintf(stdout, "%c%c", SS2, c);	/* SS2: '\216'	*/
	}

3.2.2 SJIS 8bit kana (JIS8)

      [0xA1-0xDF] で一文字

      [PROGRAM]
	int	c;
	for (c = 0xa1; c <= 0xdf; c++) {
	  (void)fprintf(stdout, "%c", c);
	}

3.2.3 JIS 7bit kana (JIS7)

      SO + [0x21-0x5F] + SI で任意の数の文字(SO, SI で囲む)

      [PROGRAM]
	int	c;
	putchar(SO);			/* SO: '\016'	*/
	for (c = 0x21; c <= 0x5f; c++) {
	  (void)fprintf(stdout, "%c", c);
	}
	putchar(SI);			/* SI: '\017'	*/

3.2.4 JIS 8bit kana

      ESC ( I + [0xA1-0xDF] + ESC ( B or ESC ( J で任意の数の文字

      [PROGRAM]
	int	c;
	(void)fprintf(stdout, "\033(I");
	for (c = 0xa1; c <= 0xdf; c++) {
	  (void)fprintf(stdout, "%c", c);
	}
	(void)fprintf(stdout, "\033(B");	/* ISO 646-1991		*/
	(void)fprintf(stdout, "\033(J");	/* JIS X 0201-1976 roma	*/

4. 参考図書

   『日本語情報処理』(Understanding Japanese Information Processing)
	Ken Lunde 著
	O'Reilly & Associates, Inc.

5. 付録

5.1 半角カナ <-> 全角カナ対応表

  JIS		EUC		JIS8(SJIS)	JIS7(JIS)

、[2122]	[A1A2]		0xa4		0x24
。[2123]	[A1A3]		0xa1		0x21
・[2126]	[A1A6]		0xa5		0x25
゛[212B]	[A1AB]		0xde		0x5e
゜[212C]	[A1AC]		0xdf		0x5f
ー[213C]	[A1BC]		0xb0		0x30
―[213D]	[A1BD]		0xb0		0x30
「[2156]	[A1D6]		0xa2		0x22
」[2157]	[A1D7]		0xa3		0x23
ァ[2521]	[A5A1]		0xa7		0x27
ア[2522]	[A5A2]		0xb1		0x31
ィ[2523]	[A5A3]		0xa8		0x28
イ[2524]	[A5A4]		0xb2		0x32
ゥ[2525]	[A5A5]		0xa9		0x29
ウ[2526]	[A5A6]		0xb3		0x33
ェ[2527]	[A5A7]		0xaa		0x2a
エ[2528]	[A5A8] 		0xb4		0x34
ォ[2529]	[A5A9]		0xab		0x2b
オ[252A]	[A5AA]		0xb5		0x35
カ[252B]	[A5AB]		0xb6		0x36
ガ[252C]	[A5AC]		0xb6,0xde	0x36,0x5e
キ[252D]	[A5AD]		0xb7		0x37
ギ[252E]	[A5AE]		0xb7,0xde	0x37,0x5e
ク[252F]	[A5AF]		0xb8		0x38
グ[2530]	[A5B0] 		0xb8,0xde	0x38,0x5e
ケ[2531]	[A5B1]		0xb9		0x39
ゲ[2532]	[A5B2]		0xb9,0xde	0x39,0x5e
コ[2533]	[A5B3]		0xba		0x3a
ゴ[2534]	[A5B4]		0xba,0xde	0x3a,0x5e
サ[2535]	[A5B5]		0xbb		0x3b
ザ[2536]	[A5B6]		0xbb,0xde	0x3b,0x5e
シ[2537]	[A5B7]		0xbc		0x3c
ジ[2538]	[A5B8] 		0xbc,0xde	0x3c,0x5e
ス[2539]	[A5B9]		0xbd		0x3d
ズ[253A]	[A5BA]		0xbd,0xde	0x3d,0x5e
セ[253B]	[A5BB]		0xbe		0x3e
ゼ[253C]	[A5BC]		0xbe,0xde	0x3e,0x5e
ソ[253D]	[A5BD]		0xbf		0x3f
ゾ[253E]	[A5BE]		0xbf,0xde	0x3f,0x5e
タ[253F]	[A5BF]		0xc0		0x40
ダ[2540]	[A5C0]		0xc0,0xde	0x40,0x5e
チ[2541]	[A5C1]		0xc1		0x41
ヂ[2542]	[A5C2]		0xc1,0xde	0x41,0x5e
ッ[2543]	[A5C3]		0xaf		0x2f
ツ[2544]	[A5C4]		0xc2		0x42
ヅ[2545]	[A5C5]		0xc2,0xde	0x42,0x5e
テ[2546]	[A5C6]		0xc3		0x43
デ[2547]	[A5C7]		0xc3,0xde	0x43,0x5e
ト[2548]	[A5C8] 		0xc4		0x44
ド[2549]	[A5C9]		0xc4,0xde	0x44,0x5e
ナ[254A]	[A5CA]		0xc5		0x45
ニ[254B]	[A5CB]		0xc6		0x46
ヌ[254C]	[A5CC]		0xc7		0x47
ネ[254D]	[A5CD]		0xc8		0x48
ノ[254E]	[A5CE]		0xc9		0x49
ハ[254F]	[A5CF]		0xca		0x4a
バ[2550]	[A5D0] 		0xca,0xde	0x4a,0x5e
パ[2551]	[A5D1]		0xca,0xdf	0x4a,0x5f
ヒ[2552]	[A5D2]		0xcb		0x4b
ビ[2553]	[A5D3]		0xcb,0xde	0x4b.0x5e
ピ[2554]	[A5D4]		0xcb,0xdf	0x4b.0x5f
フ[2555]	[A5D5]		0xcc		0x4c
ブ[2556]	[A5D6]		0xcc,0xde	0x4c,0x5e
プ[2557]	[A5D7]		0xcc,0xdf	0x4c,0x5f
ヘ[2558]	[A5D8] 		0xcd		0x4d
ベ[2559]	[A5D9]		0xcd,0xde	0x4d,0x5e
ペ[255A]	[A5DA]		0xcd,0xdf	0x4d,0x5f
ホ[255B]	[A5DB]		0xce		0x4e
ボ[255C]	[A5DC]		0xce,0xde	0x4e,0x5e
ポ[255D]	[A5DD]		0xce,0xdf	0x4e,0x5f
マ[255E]	[A5DE]		0xcf		0x4f
ミ[255F]	[A5DF]		0xd0		0x50
ム[2560]	[A5E0] 		0xd1		0x51
メ[2561]	[A5E1]		0xd2		0x52
モ[2562]	[A5E2]		0xd3		0x53
ャ[2563]	[A5E3]		0xac		0x2c
ヤ[2564]	[A5E4]		0xd4		0x54
ュ[2565]	[A5E5]		0xad		0x2d
ユ[2566]	[A5E6]		0xd5		0x55
ョ[2567]	[A5E7]		0xae		0x2e
ヨ[2568]	[A5E8] 		0xd6		0x56
ラ[2569]	[A5E9]		0xd7		0x57
リ[256A]	[A5EA]		0xd8		0x58
ル[256B]	[A5EB]		0xd9		0x59
レ[256C]	[A5EC]		0xda		0x5a
ロ[256D]	[A5ED]		0xdb		0x5b
ヮ[256E]	[A5EE]
ワ[256F]	[A5EF]		0xdc		0x5c
ヰ[2570]	[A5F0] 
ヱ[2571]	[A5F1]
ヲ[2572]	[A5F2]		0xa6		0x26
ン[2573]	[A5F3]		0xdd		0x5d
ヴ[2574]	[A5F4]
ヵ[2575]	[A5F5]
ヶ[2576]	[A5F6]

